
<!DOCTYPE html>

<html lang="en">
    
<head>
    
   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <title>CENGden Marketplace</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>
    <header>
        <h1>Welcome to CENGden Marketplace</h1>
        <nav>
            <ul>
                <li><a href="{% url 'index' %}">Home</a></li>
                <li><a href="{% url 'categories' %}">Categories</a></li>
                <li>{% if user.is_authenticated %}<a href="{% url 'logout' %}">Logout</a>{% else %}<a href="{% url 'login' %}">Login/Sign Up</a>{% endif %}</li>
            </ul>
        </nav>
    </header>

    <main>

        <section class="categories">
            <h2>Categories</h2>
            <ul>
                <li><a href="{% url 'category_items' category='vehicles' %}">Vehicles</a></li>
                <li><a href="{% url 'category_items' category='computers' %}">Computers</a></li>
                <li><a href="{% url 'category_items' category='phones' %}">Phones</a></li>
                <li><a href="{% url 'category_items' category='private_lessons' %}">Private Lessons</a></li>
            </ul>
        </section>

        <section class="latest-items">
            <h2>Latest Items</h2>
            <div class="items">
                {% for item in page_obj %}
            <div class="item">
                <!-- Display the title and description for all items -->
                <h3>{{ item.Title }}</h3>
                <p> Description:{{ item.Description|truncatewords:20 }} </p>
                <p>Price: {{ item.Price }}</p>

                <!-- Display common fields if they exist -->
                {% if item.Brand %}<p>Brand: {{ item.Brand }}</p>{% endif %}
                {% if item.Model %}<p>Model: {{ item.Model }}</p>{% endif %}
                {% if item.Year %}<p>Year: {{ item.Year }}</p>{% endif %}

                <!-- Display category-specific fields -->
                {% if item.Type %}<p>Type: {{ item.Type }}</p>{% endif %}
                {% if item.Processor %}<p>Processor: {{ item.Processor }}</p>{% endif %}
                {% if item.RAM %}<p>RAM: {{ item.RAM }}</p>{% endif %}
                {% if item.Graphics_Card %}<p>Graphics Card: {{ item.Graphics_Card }}</p>{% endif %}
                {% if item.Operating_System %}<p>OS: {{ item.Operating_System }}</p>{% endif %}
                {% if item.Camera_Specifications %}<p>Camera Specifications: {{ item.Camera_Specifications }}</p>{% endif %}
                {% if item.Battery_Capacity %}<p>Battery Capacity: {{ item.Battery_Capacity }}</p>{% endif %}
                
                <!-- Check for nested fields like Storage -->
                {% if item.Storage %}
                    {% if item.Storage.SSD %}<p>SSD Storage: {{ item.Storage.SSD }}</p>{% endif %}
                    {% if item.Storage.HDD %}<p>HDD Storage: {{ item.Storage.HDD }}</p>{% endif %}
                {% endif %}

                <!-- Fields specific to private lessons -->
                {% if item.Tutor_Name %}<p>Tutor: {{ item.Tutor_Name }}</p>{% endif %}
                {% if item.Duration %}<p>Duration: {{ item.Duration }}</p>{% endif %}
                {% if item.Location %}<p>Location: {{ item.Location }}</p>{% endif %}
                {% if item.Lessons %}<p>Lessons: {{ item.Lessons|join:", " }}</p>{% endif %}

                <!-- Fields specific to vehicles -->
                {% if item.Color %}<p>Color: {{ item.Color }}</p>{% endif %}
                {% if item.Mileage %}<p>Mileage: {{ item.Mileage }}</p>{% endif %}
                <!-- ... more vehicle-specific fields ... -->

                <!-- Image handling -->
                {% if item.Image %}
                    <!-- Assuming item.Image contains the path to the image -->
                    <img src="{{ item.Image }}" alt="{{ item.Title }}">
                {% else %}
                    <!-- Display a default image if none is provided -->
                    <img src="{% static 'default-placeholder.png' %}" alt="Default Image">
                {% endif %}
            </div>
    {% endfor %}
            </div>
            <div class="pagination">
                {% if items.has_previous %}
                    <a href="?page={{ items.previous_page_number }}">Previous</a>
                {% endif %}
                <span>Page {{ items.number }} of {{ items.paginator.num_pages }}</span>
                {% if items.has_next %}
                    <a href="?page={{ items.next_page_number }}">Next</a>
                {% endif %}
            </div>
        </section>
    </main>

    
    <footer>
        <p>&copy; 2024 CENGden Marketplace</p>
    </footer>
</body>
</html>
